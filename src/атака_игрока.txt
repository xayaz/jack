# атака_игрока
!THIS LOCATION CALCULATES PLAYERS ATTACKS
atk = 0
def = текущий
это_суперудар = 0

$действия_игрока = ''


IF args = 1:
 $атака[0] = $атака_1_тип[$оружие]
 $рассчетный_тип_вреда = $тип_вреда[$оружие]
 вред_на_рассчет = базовый_вред[$оружие]
 $действия_игрока += '<<$атака_1_текст[$оружие]>>'
END

IF args = 2:
 $атака[0] = $атака_2_тип[$оружие]
 $рассчетный_тип_вреда = $тип_вреда[$оружие]
 вред_на_рассчет = базовый_вред[$оружие]
 $действия_игрока += '<<$атака_2_текст[$оружие]>>' 
END

IF args = 31:
 $атака[0] = $вторичная_атака_тип[$вторичный]
 $рассчетный_тип_вреда = $тип_вреда[$вторичный]
 вред_на_рассчет = базовый_вред[$вторичный]
 $действия_игрока += '<<$вторичная_атака_текст[$вторичный]>>'
END

IF args = 11:
 $атака[0] = 'сильная'
 $рассчетный_тип_вреда = 'дробящий'
 вред_на_рассчет = base_str
 $действия_игрока += "You kick <<$склонение_врага[текущий]>> <font color='red'>with all of your strength</font> in the stomach"
END
IF args = 12:
 $атака[0] = 'быстрая'
 $рассчетный_тип_вреда = 'дробящий'
 вред_на_рассчет = base_str
 $действия_игрока += "<font color='green'>Swift</font> push makes <<$склонение_врага[текущий]>> to falter"
END
IF args = 13:
 $атака[0] = 'точная'
 $рассчетный_тип_вреда = 'дробящий'
 вред_на_рассчет = base_str
 $действия_игрока += "You make a sweep <font color='purple'>just in time</font>"
END

IF args > 20 and args < 30:
 супер = args - 20
 $атака[0] =  $суперудар_тип[$суперудар[супер]]
 $рассчетный_тип_вреда = $тип_вреда[$суперудар[супер]]
 вред_на_рассчет = базовый_вред[$суперудар[супер]]
 $действия_игрока += $суперудар_текст[$суперудар[супер]] 
 это_суперудар = 1
END

gs 'рассчет_вреда'

IF $класс_врага[текущий] = 'пешка':
 IF модификатор > 0:
  $состояние[текущий] = 'повержен'
  дух_игрока += 2
  $действия_игрока += " [fatal blow]"  
  else
  $действия_игрока += " [miss]"
 END
 jump 'loop9'
END

$действия_игрока += " [<<нанесенный_вред>>] "

IF $эффект = 'удвоение': 
 наложение = 0 
 $наложение = 'удвоение вреда'
END

IF это_суперудар = 1: 
 if наложение = 0: $действия_игрока += "[doubled]"
 $действия_игрока += "(<<$спецэффект_описание[$суперудар[супер]]>>)<br>" 
 jump 'loop10'
END

:loop9
IF $эффект = 'бонус': 
 наложение = 1 
 IF args = 1: 
  $наложение = '<<$атака_1_бонус[$оружие]>>' 
  длительность = атака_1_длительность[$оружие]
 END
 IF args = 2: 
  $наложение = '<<$атака_2_бонус[$оружие]>>' 
  длительность = атака_2_длительность[$оружие]
 END
 IF args = 11: 
  $наложение = 'внимание' 
  длительность = 2
 END
 IF args = 12: 
  $наложение = 'адреналин' 
  длительность = 2
 END
 IF args = 13: 
  $наложение = 'верткость' 
  длительность = 2
 END 
 IF args = 31: 
  $наложение = '<<$вторичная_атака_бонус[$вторичный]>>' 
  длительность = вторичная_атака_длительность[$вторичный]
 END 
END

IF $эффект = 'штраф': 
 наложение = 2 
 IF args = 1: 
  $наложение = '<<$атака_1_штраф[$оружие]>>' 
  длительность = атака_1_длительность[$оружие]
 END  
 IF args = 2: 
  $наложение = '<<$атака_2_штраф[$оружие]>>' 
  длительность = атака_2_длительность[$оружие]
 END  
 IF args = 11: 
  $наложение = 'ошеломление' 
  длительность = 2
 END  
 IF args = 12: 
  $наложение = 'рассеянность' 
  длительность = 2
 END 
 IF args = 13: 
  $наложение = 'шаткость' 
  длительность = 2
 END   
 IF args = 31: 
  $наложение = '<<$вторичная_атака_штраф[$вторичный]>>' 
  длительность = вторичная_атака_длительность[$вторичный]
 END   
END

IF $наложение = 'удвоение вреда':
 $действия_игрока += "[doubled]<br>"
END

!"IF $наложение = 'слабость' or $наложение = 'шаткость' or $наложение = 'бешенство' or $наложение = 'адреналин':
 $действия_игрока += "[<font color='red'><<$наложение>></font>]<br>"
END

IF $наложение = 'скованность' or $наложение = 'ошеломление' or $наложение = 'разгон' or $наложение = 'верткость':
 $действия_игрока += "[<font color='green'><<$наложение>></font>]<br>"
END

IF $наложение = 'боль' or $наложение = 'рассеянность' or $наложение = 'меткость' or $наложение = 'внимание':
 $действия_игрока += "[<font color='purple'><<$наложение>></font>]<br>"
END"

!status inflict translation
if $наложение = 'слабость': $действия_игрока += "[<font color='red'>weakness</font>]<br>"
if $наложение = 'шаткость': $действия_игрока += "[<font color='red'>unsteadiness</font>]<br>"
if $наложение = 'бешенство': $действия_игрока += "[<font color='red'>fury</font>]<br>"
if $наложение = 'адреналин': $действия_игрока += "[<font color='red'>adrenaline</font>]<br>"

if $наложение = 'скованность': $действия_игрока += "[<font color='green'>stiffness</font>]<br>"
if $наложение = 'ошеломление': $действия_игрока += "[<font color='green'>stunned</font>]<br>"
if $наложение = 'разгон': $действия_игрока += "[<font color='green'>acceleration</font>]<br>"
if $наложение = 'верткость': $действия_игрока += "[<font color='green'>evasion</font>]<br>"

if $наложение = 'боль': $действия_игрока += "[<font color='purple'>pain</font>]<br>"
if $наложение = 'рассеянность': $действия_игрока += "[<font color='purple'>distraction</font>]<br>"
if $наложение = 'меткость': $действия_игрока += "[<font color='purple'>precision</font>]<br>"
if $наложение = 'внимание': $действия_игрока += "[<font color='purple'>attention</font>]<br>"

:loop10
GT 'ход_противников'
--- атака_игрока ---------------------------------

